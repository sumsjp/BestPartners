大家好
这里是最佳拍档
我是小郭
今天给大家分享一下AutoGPT
在Mac OS上的安装方法
AutoGPT的运行环境有三种
按照官方介绍的
我们选择其中一种就可以
它提供的三种包括
VSCode加devcontainer
然后第二种就是直接运行在Docker里
还有一种就是直接运行在主机上
但是它需要
需要PYTHON 3.10或者更高的版本
然后为了方便安装
咱们今天选择docker的方式
要安装AutoGPT的话
需要先安装Docker Desktop
可以从docker.com上去下载Docker Desktop
如果是英特尔芯片的就
直接点这个按钮下载就可以了
如果是苹果芯片的
需要点这个苹果logo
下载文件以后
直接双击打开
像安装其他的软件一样
去安装就可以了
直接往application的目录一拖
因为之前我已经安装过了
这里就不再重复安装了
安装之后
咱们打开它需要进行一些设置
设置第一个是设置Docker的国内镜像源
这样咱们加载镜像的时候
才会速度快一些
第二个
是需要设置那个Docker的CLI工具
打开它的设置
点这个齿轮
然后先设置Docker CLI
他默认的是选的这个是在user目录下
就是在你的home目录的
docker/bin这个目录
这样的话就是他这有一个提示
需要你手动把
这个目录加到path里
如果你嫌麻烦
然后可以直接选这个system这个
选项然后这个就直接他会把
可执行文件放在这个usr/local/bin
这个目录下
就不需要再添加path
然后第二个要调整的地儿就是这个
doctor engine
这里边有一个mirrors
填写一个国内的镜像源地址
只要是国内的
肯定比国外的要速度要快
至此Docker的环境
咱们准备好了
可以去终端验证一下
敲一下doctor --version
如果能正确的提示docker的版本
就说明已经安装成功了
准备好docker环境之后
咱们就可以去下载AutoGPT的源码去
编译安装了
要下载它的源码有两种方式
第一种是通过浏览器直接下载
而第二种就是用Git
直接拉去它的源码
呃我推荐用第二种
就因为这样的话如果它后续更新了
Autogbt更新很快啊
如果他后续更新了
咱们可以直接用重新去拉载
拉取他最新的代码就可以了
而不用去下一个完整的Zip包
但嗯用这两种方式都要注意
就是他这里已经
说描述了说
一定要用stable分支而不是master分支
所以下载的时候
不要像下一般项目的那样
从这里直接点download zip来下载
因为master分支可能不稳定
有一些
呃在安装的时候会遇到一些麻烦
所以最好还是用它的release
最新的发布版是0.2.2
然后下zip或者是tar包都可以
下载后直接打开就可以了
这样得到一个
AutoGPT的源码目录
然后后续就
可以进行后续的安装工作了
接下来我再演示一下如何通过git来
通过git下载
直接执行这样一个命令就可以了
在这里咱们指定了它的branch是stable
然后只下这一个branch
然后只下最新的一次代码
这样的话可以增加它的下载速度
下载完成以后要cd到这个目录下
叫AutoGPT的这个目录
然后就可以看到它的这些源码文件了
和咱们刚才下的zip包里的是一样的
在有了docker环境和AutoGPT的源码之后
咱们就可以去构建docker的镜像了
用你比较常用的那个文本编辑器打开
AutoGPT这个
这个目录我习惯用的是VS code
然后找到这个目录下的
Dockerfile这个文件
咱们对它做一些简单的修改
主要是把
一些需要下载的地方的改成国内的源
一个是在apt-get update之前
修改一下系统的那个软件包的镜像源
还有就是
Python的那些二进制包的镜像源
主要就是这两个地方
第一个是新加了这一整行
然后第二处是在
pip install
--user和-r之间增加了这一部分
然后就可以去构建docker的镜像了
构建docker镜像用这个命令
一定不要忘了最后的这个点
第一次运行的话
可能会等的时间比较长
因为他要去安装一些程序包
比如像FireFox还有
Chrome的这个开源版本等等一大堆
整个安装完这个镜像
好像是将近1.5G吧
可以通过docker images来查看有没有安装
有没有构建成功
如果你的镜像目录里边有AutoGPT
这一条记录的话
那就说明已经构建成功了
在构建docker镜像这段时间里
咱们可以先把
ChatGPT的key给它准备好
在requirements这里边的第二条
第一条是环境咱们已经准备好了docker
第二条就是OpenAI的API key
咱们打开它
如果你之前没有申请过这块
可能什么都没有
我早晨申请了一个
然后申请之后
这个key是没办法再次看见的
只有在当时申请的时候有
所以咱们重新申请一个
给这个key起一个新的名字
auto-gpt
然后点这个create secret key
这个key一定要复制好
因为
一旦把这个done点了之后
就再也看不到它了
复制了这个key之后咱们就可以去
配置咱们的AutoGPT的配置文件了
AutoGPT的配置文件
它原来叫env.template
咱们要把它
咱们要把它复制一份
复制成一份叫.env的这么一个文件
然后咱们打开它
大概在第24行的地方
有一个OpenAI API KEY
在这里把刚才复制的key粘贴过来
然后保存就可以了
好了
这次所有的安装工作都已经结束了
咱们来运行一下看看什么效果
用docker run命令来执行
呃AutoGPT默认是
依赖ChatGPT 4也就是那个付费的版本
如果你没有啊购买付费的版本的话
可以加最后这个
--gpt3only这个参数
这样的话就可以禁用到
禁用掉ChatGPT 4
好咱们来运行一下看看
前面是一些提示信息
然后让他要提示你输入名字
叫TestGPT
好他的Role
就默认的这个role吧
然后默认的goal
整个安装和
运行的过程中都需要翻墙的软件
一直是可用的状态
并且进入前面所说的
需要开启系统代理
因为docker里面
他也是需要访问这个国外的一些网站的
这个命令比
官网上的那个命令多了一个
name参数
我给他制定了这个容器
制定了一个叫autogbt的这个名字
可以方便后续的一些操作
如果在
执行的过程中不想在这等他了
哦他已经返回来结果了
如果不想等他了可以按Ctrl
呃
p再加q就可以退出来
这样的话它是在
这个容器是在后台运行的
咱们可以通过docker ps来看一下
然后如果你想回到这个呃
之前的那个运行的
界面的话可以通过docker的attach命令
attach后面跟上这个autogpt
就是咱们给这个容器指定的名字
指定这个autogpt就可以了
这样的话实际
他是回到了刚才那个结果
就是呃他在等待你的回答
是
yes还是no
咱们选yes让他继续工作
如果在运行中
如果你按了Ctrl加c这个组合的话
那这个容器就会被停止掉
稍等把这个结果输出完
如果你这会按了Ctrl c或者
输入了n结束了这个程序的话
那这个
doctor容器会变成一个停止的一个状态
他已经退出了
咱们再看一下
doctor ps已经看不到有容器在运行了
但是通过ps -a
实际这个容器还是在的
咱们不用重新去执行docker run命令
即使如果还有
还再次执行这个docker run命令的话
因为这个name已经存在了
它会提示你说冲突
已经存在了
所以如果想
重新运行这个已经退出的容器的话
可以用docker start autogpt
把这个容器再启动起来
然后还是用attach去
连接到这个容器
好现在又开始了
他在问你要不要
呃继续之前的任务
如果选n的话
就又开始了一个新的任务
因为咱们没有配置他的那个存储
他默认就是在本地存储的
所以一旦本地的这个
容器被删除的话
那之前的那些存储的记录都会被删掉
如果要想要持久化存储的话可以
看一下官方的这个
文档里介绍的关于存储的一些设置
看看啊它存储可以选Redis或者是
这个Pinecone啊松果什么的这个
然后如果是要配置的话可以
在env里边去配置这些东西
memory这一些选项
如果是
Pinecone的话就配置Pinecone的key
如果是Redis的话
就配置Redis的连接信息以及密码
这个咱们就不再多说了
好了以上就是视频的全部内容了
感谢大家观看谢谢
