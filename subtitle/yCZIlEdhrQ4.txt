大家好
这里是最佳拍档
我是大飞
在软件开发的过程中呢
阅读和理解代码是一项基础的工作
无论是实现新的功能还是查找bug
开发人员首先都要阅读和理解代码
这个时间甚至多过于编写代码
如果能够像搜索引擎一样
快速的找到开发所需要的上下文代码
那么软件开发的效率
将会大幅的提升
那作为全球最大的源代码托管服务平台
2021年Github发布了
代码搜索引擎Code Search预览版之后
Github又对Code Search
进行了一系列的优化修改
并且在今年的2月份公布了技术的细节
现在Github宣布
所有的用户
都可以使用全新的代码搜索引擎
以及代码视图code view
从而让开发人员能够快速的搜索
导航和理解代码
最终提高工作效率
那具体来说呢
Github推出了一个完全
重新设计的搜索界面
新界面呢不仅提供了建议和补全
而且还能够对搜索的结果
进行智能的分类
如果用过Github的同学应该知道
之前呢
Github的代码搜索功能并不好用
经常搜索不出来想要的结果
这次Github从头开始
构建了一个全新的代码搜索引擎
这个引擎的特点是速度更快
大概是旧的代码搜索引擎速度的两倍
而且呢它的功能更为强大
比如支持子字符串Substring的查询
正则表达式的搜索和符号搜索
并且具备一定的代码理解能力
能够将最相关的结果放在首位
除此以外呢
研发团队还重新设计了Github的代码视图
将搜索浏览和代码导航紧密集成起来
我们来看一下这次改进之后
Github的应用效果
首先第一个呢是修复BUG
应该说修复BUG
是软件开发中
最常遇到的工作情况之一
在开始修复BUG之前呢
开发者首先要找到BUG在哪
一个大型的软件或者是项目
通常都会有多个系统或者是代码仓库
如果没有代码搜索的话
开发者就不得不克隆一堆的代码仓库
然后使用grep来遍历的搜索他们
现在借助于Github的代码搜索功能
开发者可以在大量代码中
进行快速的查找
比如我们可以搜索一段错误的文本
然后就可以找到
定义这个错误文本的常量
以及这个常量使用在什么地方
可以看到
一个是在这个文件中的另一处地方
一个是在另一个测试用例中
那通过这种方式
我们就可以很好的找到错误的位置
甚至呢还可以再用Github Copilot
来编写一个测试用例
其次是查找配置文件
在实际的开发中
项目的配置往往是硬性的限制条件
Github现在为开发者们提供了
查找配置文件的功能
你可以想象一下
假如你的公司正在使用着Kubernetes
而基础设施团队
说他们的集群内存不足了
那么你想知道服务究竟需要多少内存
是否能够减少怎么办呢
这个时候
我们就可以在代码中去搜索一下
包含了内存memory这
个词的YAML配置文件
你就可以立刻的清楚看到
Kubernetes集群的内存配置情况
然后呢你还可以将这个搜索链接
直接发送给基础设施团队
应该说呢
这种查询功能
对于开发中的资源规划和分配
至关重要
此外Github新的搜索引擎
还可以用来寻找漏洞
比方说
如果你的团队正在使用React框架
那么你应该知道
有一个dangerouslySetInnerHTML这个属性
它能够允许你直接插入一些HTML代码
但是
这样就很容易导致一些安全漏洞
比如说跨站脚本XSS的攻击
我们以Github网站的代码仓库为例
去搜索一下这个属性
可以看到呢
其中一些
是禁止使用dangerouslySetInnerHTML的
Linter规则
但是也有一个可能会容易受到攻击的组件
名为IssuesShow
我们再点击这个文件
就可以在代码视图中进行查看
我们可以发现
它只是用在了另一个文件中
那到这里呢
我们就可以清晰的看到
这个组件的一个确切的路径
不过不用担心
这个组件是沙盒测试环境的一部分
它是安全的
那Github这次发布的新的代码搜索
和代码视图
目的是为了让开发人员能够快速的找到
分散在他们代码库中的关键信息
然后将这些信息放入到上下文中
并最终提高他们的工作效率
这次的发布
可能仅仅还只是一个开始
因为Github正在将AI的技术
融入到软件开发的各个方面
我们也期待
有更多更好用的功能出来
大家有时间也可以去
体验一下新版本的搜索引擎
有什么体会心得呢可以在评论区留言
好了今天的分享呢就到这里
感兴趣的小伙伴们欢迎订阅我们频道
我们下期再见
