大家好，这里是最佳拍档，我是大飞
不知道屏幕前的各位朋友
上周公司的电脑有没有蓝屏呢？
一次失败的软件更新
把全球无数用户搅了个不得安宁
这场几乎波及所有行业的网络安全事故
强行给繁忙的全世界按下了暂停键
上至政府部门，下至零售商铺
所有人只能看着满屏蓝色干瞪眼
讽刺的是
这一切的事故并不是源自黑客的恶意攻击
而是一家为了保护人们免受黑客攻击的公司
它就是全球最大网络安全软件制造商之一的CrowdStrike
正是这家公司推送的一个有缺陷的更新
引发了全球IT系统故障
导致全球机场、银行、证券交易所和企业陷入瘫痪
气得马斯克放狠话
要“火烧CrowdStrike机房”，
《纽约客》更是将这次蓝屏故障称为“历史上规模最大最严重的IT故障”。
CrowdStrike究竟是何方神圣？
又是如何引爆史上最大规模的IT故障的呢？
今天大飞就来带大家梳理一下整件事情的来龙去脉
事情还得从上周五讲起
当地时间19号
CrowdStrike向全球微软Windows系统用户
发送了一个软件更新，一般情况下
这种更新会在后台悄无声息地自动更新
不影响用户使用
但是由于这次更新存在漏洞
所以在运行时直接导致了系统崩溃
进而引发全球IT系统中断
具体来说
CrowdStrike为其Windows版本的Falcon软件产品
发布了一套更新包
其中用于筛检命名管道的配置文件的更新
导致了端点检测与回应客户端的逻辑错误
在Windows系统中
通道文件位于目录C:\Windows\System32\drivers\CrowdStrike\下
并且文件名以「C-」开头
每个通道文件都有一个唯一编号作为标识
而这次事件中受影响的通道文件为291
文件名以「C-00000291-」开头
以
sys扩展名结尾
虽然通道文件以SYS扩展名结尾
但是它们并不是内核驱动程序
通道文件291会影响Falcon如何评估Windows系统上的命名管道执行
这些命名管道主要用在Windows中正常进程间、或者系统间的通信的
CrowdStrike周五的更新
本意是针对网络攻击中常见的C2框架中新发现的恶意命名管道
但是实际上却触发了系统的逻辑错误
并且导致由页缺失引起的终止代码PAGE_FAULT_IN_NONPAGED_AREA
以及“失败的操作：csagent
sys”。
这就造成Windows设备陷入了启动循环或者恢复模式
而且这个故障主要针对于运行Windows 10及Windows 11的设备
而运行Windows 7或者Windows Server 2008 R2的设备不受影响
好在这个故障仅仅存在于安装了CrowdStrike Falcon的Windows设备
因此绝大多数个人电脑得以幸免
不过，企业级系统可就难逃此劫了
由于全球许多的IT企业都使用了Windows和CrowdStrike软件
光CrowdStrike公司就拥有大约24
000名客户，大部分都是大型企业
所以实际影响的电脑数目庞大
最终估算超过850万台
于是，从周五开始
全球各地陆续有打工人在打开电脑以后
被“蓝光”所照拂
并且伴随着电脑反复重启又崩溃的尴尬境况
正如一名网民吐槽的那样
“如果今天你收获了一个微软蓝屏
你并不孤单
”
随着更新被越来越广泛的安装
蓝屏宕机迅速席卷全世界
从美洲、欧洲到亚洲
可谓是“雨露均沾”，
多国交通、金融、媒体、医疗、零售、物流等在内的各行各业
都受到了严重的干扰
飞机不飞了，医院不转了
货运不走了
连路口的咖啡店都不能刷卡结账了
许多国家都上演了不同程度的
甚至自上而下的公共服务“瘫痪”。
而眼下正值旅游旺季
航空业遭到的“暴击”最为直接明显
CNN援引航班跟踪网站FlightAware的数据称
截至到美国东部时间周五晚间
全球有4.1万个航班被推迟
超过4600个航班被取消
许多机场不得不转为人工值机
使用手写登机牌办理登机
效率大大降低，等待的旅客大排长龙
还有不少人被困在机场
只能抱着行李席地而睡
欧洲最大的航空公司瑞安航空坦言
这次宕机已经超出了它们的控制范围
建议所有游客至少提前三个小时到达机场
此外
包括特斯拉、星巴克、埃克森美孚等不同行业的企业
也公开表示受到了影响
星巴克称
第三方系统出现广泛的故障
导致移动预订和支付功能暂时中断
埃克森美孚则表示
全球网络故障影响了公司部分的信息系统
特斯拉首席执行官马斯克的反应最为激烈
他在社交媒体上狂喷CrowdStrike
大骂这次故障对汽车供应链造成了冲击
扬言要从特斯拉所有系统中全部删除CrowdStrike软件
骂完还不过瘾
马斯克还附上一张“火烧CrowdStrike机房”的AI生成图片
来宣泄自己的不满
他随后补充道，“不幸的是
我们的许多供应商和物流公司都在使用那家公司的软件
”
马斯克的心情不难理解
这场无妄之灾给他带来了不小的损失
不过倒霉的也不只是马斯克
得州普莱诺网络安全服务公司Accelerynt的联合创始人兼董事长
迈克尔·亨利（Michael Henry）称
美国一家大型零售商的客户不得不召集所有的IT员工
让他们昼夜不停地手动更新大约6000台受影响的电脑
这家公司预计要花费整个周末时间来恢复关键系统
而所有系统完全恢复上线状态则需要三周的时间
亨利直言
CrowdStrike对全球商业造成的破坏
比所有勒索软件攻击的总和还要大
这证明了
我们在为了保护自己而部署的软件上承担了多大的风险
如果这些人出错
他们可能会毁掉你的业务
网络安全专家、前国土安全部官员克里斯-库米斯基（Chris Cummiskey）也表示
虽然CrowdStrike通常被视为网络保护的“黄金标准”，
但是这次事件后可能需要重新审视他们的内部做法
毕竟，谁也不会希望按下一个按钮
就会发生这种全球性的崩溃
而据Cloud Zero的分析师预测
事发当天上午已造成损失240亿美元
另一名英国教授预测
这次事故损失极其巨大
可能会高达数十亿英镑
《华盛顿邮报》报道称
哪怕是在今年已经因为黑客攻击而遭受过严重打击的行业中
专家们仍然对周五这种程度的停摆感到震惊
而作为事故的主要责任方
CrowdStrike公司的联合创始人兼CEO乔治·库尔茨（George Kurtz）
已经为这一错误发表了道歉申明
他说，这不是安全事件或者网络攻击
这个问题已经被发现、隔离
并且已经部署了修复程序
讲到这里，可能有朋友要问了
CrowdStrike这家公司到底是什么来头？
为什么有能力造成这么大的事故？
对于普通人来说
CrowdStrike可能是名不见经传
但是事实上
这家公司是货真价实的美国网络安全龙头企业
CrowdStrike成立于2011年
总部位于得克萨斯州奥斯汀
由乔治·库尔茨
德米特里·阿尔佩罗维奇Dmitri Alperovitch
和格雷格·马斯顿Gregg Marston共同创立
乔治·库尔茨毕业于西顿霍尔大学Seton Hall University
拥有会计学学位
不出意外的话，他会拿着自己的证书
去某个公司当一个默默无闻的账房先生
然而，90年代的互联网热潮
彻底改变了他的人生轨迹
他对互联网产生了浓厚的兴趣
并且精准地捕捉了当时行业中的蓝海
网络安全业务
当时
安全行业普遍采用通过“签名signatures”机制
来识别和阻止恶意软件的方式
所谓“签名”，
就像是恶意软件的指纹一样
签名会被存储在安全软件的一个数据库中
当安全软件扫描文件或者系统的时候
如果文件或行为与数据库中的任何签名匹配
安全软件就会标记这个文件是恶意的
并且采取相应的行动
比如隔离或者删除这个文件
而如果数据库中没有对应的签名
那安全软件就两手一摊
开始摆烂了
它无法检测到尚未被发现、或者还没有对应签名的恶意软件
与此同时
要是正常的文件在数据库中被“签名”了
那么安全软件也会不分青红皂白地大开杀戒
面对日新月异的攻击手段
安全签名的能力越发捉襟见肘
当时还在迈克菲McAfee的库尔茨明锐地捕捉到了这个问题
只不过他获得启发的过程比较奇葩
2010年4月
McAfee发布了发布了一个「有问题」的病毒定义更新
然后
这些自动更新的Windows XP电脑
会直接陷入「无限重启」的循环中
直到技术支持人员到场进行手动修复
背后的原因其实很简单
杀毒软件在收到新的病毒签名之后
会将一个常规的Windows二进制文件「svchost
exe」识别为病毒「W32/Wecorl
a」，并予以销毁，整个系统就此歇逼
这样一个小小的更新
直接瘫痪了世界各地医院、学校和政府机构的计算机
一份来自澳大利亚的报告称
该国最大的超市连锁店有10%的收银机瘫痪
导致14到18家商店被迫关闭
这件事在当时的影响之大
让众人纷纷惊叹
即便是专注于开发病毒的黑客
估计都做不出能像McAfee今天这样
能够迅速端掉这么多机器的恶意软件
而库尔茨正是当时的McAfee的首席技术官
所以这已经不是他第一次造成全球性电脑瘫痪了
技术故障的锅他是跑不掉了
但是福祸相依
这次故障也让库尔茨意识到
如果能解决安全签名的局限性问题
他完全可以打造一个超越McAee的网络安全企业
说干就干，2011 年
库尔茨从McAfee离职
创立CrowdStrike
随后推出了CrowdStrike Falcon平台
这个平台把更多风险处理的工作放在了云端
本地只需要安装一种名为“单一轻量级代理”的小型软件包
这种方法改变了组织获得网络安全服务的方式
不但不会影响用户设备端的性能
还借助云端强大的人工智能分析能力
Falcon平台可以在整个全球客户群中
实时自动执行检测和预防功能
同时
Falcon平台创造了一种强大的网络效应
使用该平台的设备越多
提供的数据越多
那么这个平台的安全云就变得越智能
客户受益就越多
这种新模式获得了很多风险投资的认可
CrowdStrike 先后拿到了华平投资Warburg Pincus、Capital G 等机构的投资
业务上取得了迅猛发展
实际上
CrowdStrike也靠着解决最棘手的安全问题而声名大噪
根据公开信息显示
CrowdStrike曾经被聘用调查2014年索尼影业（Sony Pictures）遭黑客攻击
以及2016年民主党全国委员会遭黑客攻击等事件
截至2024 年1月31日
Crowdstrike已经是网络安全行业的巨头
在全球安全软件市场占有近15%的份额
拥有7,925名全职员工，29
000名订阅客户
其中包括近300家财富500强企业
这家企业的产品和服务在全球各地、各行各业的深度渗透
也是为什么本次蓝屏宕机事故影响如此之广的根本原因
也让很多人开始担忧，一直以来
由单一软件供应商
维系的网络安全体系
是否足够可靠
这种不安呢
可不是非专业人士的杞人忧天
用哈佛大学
肯尼迪政治学院的安全技术专家
布鲁斯-施奈尔（Bruce Schneier） 的话来说
这家普通人“听都没听过”的公司
对于互联网的正常运作起着至关重要的作用
但是现在的情况就相当于
他们只是往房子的墙上钉一幅画
一锤子下去，却把整栋墙都打塌了
《华尔街时报》也指出
单个供应商的一次更新
就能让如此多的公司陷入数字黑暗时代
这是对世界技术依赖性的新警告
尽管类似的更新故障此前也有过先例
但是随着企业和个人对人工智能驱动的自动化工具的依赖与日俱增
使得每一次新的宕机事件都让人感到更加危险
当地时间周五
在美国科罗拉多州举行的阿斯彭安全论坛上
负责网络技术的美国副国家安全顾问
安妮·纽伯格（Anne Neuberger）谈到这件事的时候透露
她是凌晨4点被白宫一个电话叫醒
然后花了一上午的时间
评估服务中断对美国所有关键基础设施部门的影响
纽伯格认为
这件事暴露了技术供应链中的整合风险
我们需要真正思考的是我们的数字韧性
不仅仅是运行的系统
还包括全球连接的安全系统整合的风险
我们应该如何应对整合
以及我们如何确保一旦发生事故
能够得到控制并迅速地恢复
要想建立这种弹性
我们还有很多工作要做
”
好了
以上就是本次蓝屏宕机事件的来龙去脉了
库尔茨在周五晚些时候发表的一份声明中说
随着这个事件的解决
他承诺将对事件发生的过程
以及为防止此类事件再次发生所采取的措施
提供充分的透明度
CrowdStrike正在进行技术更新和根本原因分析
会公布于众
并且强调修复程序已经部署
用户也可以通过反复重启15次计算机的方式来“暴力”解决问题
只是，在大型企业中
CrowdStrike的修复程序需要由具有管理权限的人手动修复
一台电脑接一台电脑
这是一个非常耗时的过程
在远程工作的时代尤其困难
网络安全公司CrowdStrike造成的麻烦
已经远远超过了任何一款的勒索软件
不得不说是一种时代的黑色幽默
那大家是如何看待CrowdStrike这次事件的呢？
你认为如今的网络安全体系靠谱吗？
欢迎在评论区发表自己的看法
感谢大家的观看，我们下期再见
